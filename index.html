<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="Yusuf KocapÄ±nar - BiyomÃ¼hendislik & Dijital GÃ¼nlÃ¼k">
    <meta name="author" content="Yusuf KocapÄ±nar">
    
    <title>Yusuf KocapÄ±nar</title>
    
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸª</text></svg>">

    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>

    <div class="bg-image" id="bg-blur"></div>

    <button class="theme-switch" onclick="toggleTheme()" aria-label="TemayÄ± DeÄŸiÅŸtir">
        <i class="fas fa-sun" id="theme-icon"></i>
    </button>

    <nav class="floating-nav">
        <a href="#home" class="nav-item active" onclick="showLanding()" data-tooltip="Ana Sayfa"><i class="fas fa-home"></i></a>
        <a href="#about" class="nav-item" onclick="showLanding()" data-tooltip="Ben Kimim?"><i class="fas fa-user-astronaut"></i></a>
        <a href="javascript:void(0)" onclick="openModule('culture')" class="nav-item" data-tooltip="KÃ¼ltÃ¼r & Sanat"><i class="fas fa-book-open"></i></a>
        <a href="javascript:void(0)" onclick="openModule('journal')" class="nav-item" data-tooltip="Akademik & GÃ¼nlÃ¼k"><i class="fas fa-graduation-cap"></i></a>
        <a href="javascript:void(0)" onclick="openModule('gallery')" class="nav-item" data-tooltip="Galeri"><i class="fas fa-camera"></i></a>
        <a href="#updates" class="nav-item" onclick="showLanding()" data-tooltip="GÃ¼ncellemeler"><i class="fas fa-bell"></i></a>
    </nav>

    <div id="main-stage">
        
        <section id="home">
            <div class="hero-glass">
                <div class="hero-content">
                    <img src="profil.png" alt="Yusuf KocapÄ±nar" class="profile-img">
                    <h1>Yusuf KocapÄ±nar</h1>
                    <p class="subtitle">Dijital GÃ¼nlÃ¼ÄŸÃ¼me HoÅŸ Geldin</p>
                </div>
            </div>
            <div class="scroll-indicator" onclick="document.getElementById('about').scrollIntoView();">
                <span>KeÅŸfet</span>
                <i class="fas fa-chevron-down"></i>
            </div>
        </section>

        <section id="about" style="padding-bottom: 25px;">
            <div class="glass-card">
                <h2>Ben Kimim?</h2>
                <div style="line-height: 1.9; font-size: 1.1rem; opacity: 0.95;">
                    <p>Merhaba! Ben Yusuf.</p>
                    <p>MeraklÄ±, araÅŸtÄ±rmacÄ± ve bir o kadar da Ã¶ÄŸrenmeye tutkulu bir biyomÃ¼hendislik Ã¶ÄŸrencisinin blog sayfasÄ±na hoÅŸ geldin!</p>
                    <p>YazÄ±lar yazÄ±yor, kÃ¼ltÃ¼r sanat etkinliklerine katÄ±lÄ±yor, gÃ¶rdÃ¼klerimi fotoÄŸraflÄ±yorum. Ã‚nÄ±n tadÄ±nÄ± Ã§Ä±kartÄ±yor ama Ã¢nda takÄ±lÄ± kalmÄ±yorum. AslÄ±nda bu sayfa bir sonuÃ§ deÄŸil sÃ¼recin eseri; kendi ellerimle yazdÄ±ÄŸÄ±m "Yusuf MasalÄ±"nda bana eÅŸlik etmenden memnuniyet duyarÄ±m.</p>
                    <p>AklÄ±na takÄ±lan bir ÅŸey olursa bana ulaÅŸman iÃ§in gerekli her ÅŸey sayfada mevcut.</p>
                </div>
            </div>
        </section>

        <section id="updates" style="padding-top: 0;">
            <div class="updates-list">
                <div class="updates-header-container">
                    <h2>Son GÃ¼ncellemeler</h2>
                </div>
                
                <div class="update-row" onclick="openDetail('books', 1)">
                    <div class="update-info">
                        <div class="update-meta">KÄ°TAPLIK â€¢ Ä°NCELEME EKLENDÄ°</div>
                        <h3>Holokost EndÃ¼strisi - N. Finkelstein</h3>
                    </div>
                    <i class="fas fa-arrow-right arrow-icon"></i>
                </div>

                <div class="update-row" onclick="openModule('journal')">
                    <div class="update-info">
                        <div class="update-meta">YENÄ° YAZI â€¢ GÃœNLÃœK</div>
                        <h3>21. YaÅŸÄ±mdan Notlar</h3>
                    </div>
                    <i class="fas fa-arrow-right arrow-icon"></i>
                </div>

                <div class="update-row" onclick="openDetail('books', 0)">
                    <div class="update-info">
                        <div class="update-meta">KÄ°TAPLIK â€¢ Ä°NCELEME</div>
                        <h3>Ãœniversitenin YÃ¼kseliÅŸi - C.H. Haskins</h3>
                    </div>
                    <i class="fas fa-arrow-right arrow-icon"></i>
                </div>
            </div>
        </section>

        <section id="music-section" style="padding: 20px 0;">
            <div class="player-container">
                <div class="player-bar">
                    <div class="cover-art">
                        <img src="kapak.jpg" alt="Cover">
                    </div>
                    <div class="song-info">
                        <div class="track-title">Ø£Ù‡Ùˆ Ø¯Ù‡ Ø§Ù„Ù„ÙŠ ØµØ§Ø±</div>
                        <div class="track-artist">Fairouz</div>
                    </div>
                    <div class="player-controls">
                        <button class="ctrl-btn" onclick="toggleMute()" aria-label="Sesi AÃ§/Kapat"><i class="fas fa-volume-up" id="volIcon"></i></button>
                        <button class="ctrl-btn" onclick="toggleAudio()" aria-label="Oynat/Durdur"><i class="fas fa-play" id="playIcon"></i></button>
                    </div>
                    <audio id="myAudio" loop>
                        <source src="muzik.mp3" type="audio/mpeg">
                    </audio>
                </div>
            </div>
        </section>

        <section id="contact">
            <div class="minimal-footer">
                <div class="footer-socials">
                    <a href="#" aria-label="Github"><i class="fab fa-github"></i></a>
                    <a href="#" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
                    <a href="#" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                </div>
                <div class="footer-mail">yusufkocapinar92@gmail.com</div>
                <div class="copyright">&copy; 2026 Yusuf KocapÄ±nar</div>
            </div>
        </section>

    </div> 

    <div id="module-culture" class="full-page-module">
        <div class="module-header">
            <h2 class="module-title">KÃ¼ltÃ¼r & Sanat</h2>
            <button class="back-btn" onclick="goBack()">Geri DÃ¶n</button>
        </div>
        <div class="module-content">
            <h3 class="section-header">KitaplÄ±k</h3>
            <div class="poster-grid" id="books-grid"></div>
            <h3 class="section-header">Sinema</h3>
            <div class="poster-grid" id="movies-grid"></div>
        </div>
    </div>

    <div id="module-journal" class="full-page-module">
        <div class="module-header">
            <h2 class="module-title">Akademik & GÃ¼nlÃ¼k</h2>
            <button class="back-btn" onclick="goBack()">Geri DÃ¶n</button>
        </div>
        <div class="module-content">
            <h3 class="section-header">Dijital GÃ¼nlÃ¼k</h3>
            <div class="academy-grid">
                <div class="academy-card">
                    <div style="font-weight:bold; color:var(--accent-color); font-size:0.7rem;">9 Mart 2026</div>
                    <h3>21. YaÅŸÄ±mdan Notlar</h3>
                    <p>Pek YakÄ±nda...</p>
                </div>
                <div class="academy-card">
                    <div style="font-weight:bold; color:var(--accent-color); font-size:0.7rem;">19 Åubat 2026</div>
                    <h3>Nerede O Eski Ramazanlar</h3>
                    <p>Pek YakÄ±nda...</p>
                </div>
            </div>
            <h3 class="section-header">Akademik</h3>
            <div class="academy-grid" id="blog-grid"></div>
        </div>
    </div>

    <div id="module-gallery" class="full-page-module">
        <div class="module-header">
            <h2 class="module-title">HafÄ±za</h2>
            <button class="back-btn" onclick="goBack()">Geri DÃ¶n</button>
        </div>
        <div class="poster-grid" id="gallery-grid"></div>
    </div>

    <div id="detail-modal" class="detail-modal">
        <div class="detail-card">
            <span class="close-detail" onclick="closeDetail()">&times;</span>
            <div id="detail-content"></div>
        </div>
    </div>

    <div id="gallery-viewer" class="detail-modal">
        <div class="detail-card">
            <span class="close-detail" onclick="closeGallery()">&times;</span>
            <div style="display: flex; align-items: center; width: 100%; justify-content: space-between;">
                <button class="gallery-nav-btn" onclick="changeGalleryImage(-1)" aria-label="Ã–nceki">&#10094;</button>
                <div id="gallery-img-container" style="text-align: center;">
                    <img id="gallery-img-tag" src="" alt="">
                    <h3 id="gallery-caption-tag" style="margin-top: 20px;"></h3>
                    
                    <a id="gallery-download-btn" href="#" download class="gallery-download-btn">
                        <i class="fas fa-download"></i> Orijinal Boyut (Ä°ndir)
                    </a>

                </div>
                <button class="gallery-nav-btn" onclick="changeGalleryImage(1)" aria-label="Sonraki">&#10095;</button>
            </div>
        </div>
    </div>

    <script>
        const data = {
            books: [
                {
                    title: "Ãœniversitenin YÃ¼kseliÅŸi",
                    author: "Charles Homer Haskins",
                    img: "https://img.kitapyurdu.com/v1/getImage/fn:11985778/wi:800/wh:9b87ff2f0",
                    review: `Kitap, Orta Ã‡aÄŸ Ã¼niversitelerinin doÄŸuÅŸunu, kurumsal yapÄ±sÄ±nÄ±, profesÃ¶rlerin otoritesini ve Ã¶ÄŸrencilerin gÃ¼ndelik hayatÄ±nÄ± ayrÄ±ntÄ±lÄ± ÅŸekilde ele alÄ±yor. Temelde Ã¼Ã§ bÃ¶lÃ¼mden oluÅŸan eser, â€œeklerâ€ kÄ±smÄ±ndaki belgelerle derinlik kazanÄ±yor. Ã–ÄŸrencilerin mektuplarÄ±nda kira, geÃ§im ve ders yoÄŸunluÄŸu gibi sorunlarÄ±n hÃ¢lÃ¢ tanÄ±dÄ±k olmasÄ± dikkat Ã§ekici.<br><br>Haskins Ã¼niversiteleri iki modele ayÄ±rÄ±yor: Bolognaâ€™daki Ã¶ÄŸrenci Ã¼niversiteleri ve Parisâ€™teki profesÃ¶r Ã¼niversiteleri. Bolognaâ€™da Ã¶ÄŸrenciler profesÃ¶rleri seÃ§iyor ve maaÅŸlarÄ±nÄ± Ã¶dÃ¼yordu; bu da ciddi bir gÃ¼Ã§ saÄŸlÄ±yordu. Parisâ€™te ise kilise/devlet desteÄŸiyle maaÅŸ alan profesÃ¶rler, teoloji merkezli gÃ¼Ã§lÃ¼ bir otorite kuruyordu. Burada Ã¼niversitenin tanÄ±mÄ± da Ã¶nemli: Universitas bugÃ¼nkÃ¼ gibi â€œevrensellikâ€ deÄŸil, â€œbirlikâ€ anlamÄ±na geliyordu. Ã–ÄŸrenci Ã¼niversitelerinde, profesÃ¶rlerin Ã¶ÄŸrencilere karÅŸÄ± sorumlu olmalarÄ± ve onlar tarafÄ±ndan idare ediliyor olmalarÄ± da bence bu birlikle alakalÄ±. Ã–te yandan; Ã¶ÄŸrenciler, yÃ¼ksek konut fiyatlarÄ± gibi sorunlarla da birlik olarak mÃ¼cadele ediyordu. HenÃ¼z Ã¼niversiteler birer binaya sahip deÄŸilken bir anda baÅŸka bir yere taÅŸÄ±nabiliyorlardÄ±. AyrÄ±ca deÄŸinmeden geÃ§meyeyim, o dÃ¶nemki Ã¼niversite olgusunun ekseninde meslek Ã¶ÄŸretmek deÄŸil ahlaklÄ± bireyler yetiÅŸtirmek gibi bir motivasyon vardÄ± ve bunu yaparken dinden pek de ayrÄ±lÄ±yor deÄŸillerdi.<br><br>Buna hem yazarÄ±n ifadelerinde hem de Ã¶ÄŸrenci mektuplarÄ±nda rastlamak mÃ¼mkÃ¼n. Ã‡ok uzatmadan kiÅŸisel notlarÄ±ma geÃ§ecek olursam:<br><br>Ãœniversitenin YÃ¼kseliÅŸi, akademik bir metin olmasÄ± sebebiyle temiz kafayla ve iÅŸtahla okunmasÄ± gereken bir kitap. KÄ±sa olsa da oldukÃ§a zengin bir iÃ§eriÄŸe ve kaynakÃ§aya sahip ve ilgilileri iÃ§in bence gÃ¼zel bir giriÅŸ niteliÄŸinde.`
                },
                {
                    title: "Holokost EndÃ¼strisi",
                    author: "Norman Finkelstein",
                    img: "https://img.kitapyurdu.com/v1/getImage/fn:12150703/wi:500/wh:bfff5df1e",
                    review: `Norman Finkelsteinâ€™in *Holokost EndÃ¼strisi*, tarihsel bir trajedinin nasÄ±l dokunulmaz bir ideolojik silaha dÃ¶nÃ¼ÅŸtÃ¼rÃ¼ldÃ¼ÄŸÃ¼nÃ¼ Ã§ok cesur bir dille masaya yatÄ±rÄ±yor. YazarÄ±n, ailesi bizzat Holokost maÄŸduru olan bir Yahudi akademisyen olmasÄ±na raÄŸmen bu eleÅŸtirileri kaleme alabilmesi, meseleye sadece akademik deÄŸil vicdani bir yerden baktÄ±ÄŸÄ±nÄ± da gÃ¶steriyor. AÃ§Ä±kÃ§asÄ± bu durum, yazara duyduÄŸum saygÄ±yÄ± katbekat artÄ±rdÄ±.<br><br>Kitapta Ã¶zellikle Amerika'nÄ±n Holokost'u adeta bir propaganda aracÄ± haline getiriÅŸini ve SoÄŸuk SavaÅŸ sonrasÄ± dÃ¶nemde bunu nasÄ±l stratejik olarak kullandÄ±ÄŸÄ±nÄ± okuyoruz. Finkelstein, acÄ±larÄ±n sÃ¶mÃ¼rÃ¼sÃ¼ Ã¼zerinden kurulan bu yapÄ±nÄ±n, tarihsel gerÃ§eklikten ziyade gÃ¼ncel siyasi Ã§Ä±karlara hizmet ettiÄŸini savunuyor.<br><br>Finkelstein'in Ã§izdiÄŸi tabloda en Ã§arpÄ±cÄ± noktalardan biri de ÅŸu: Bununla beraber DÃ¼nya Ã¼zerinde yaÅŸanan ve yaÅŸanacak bÃ¼tÃ¼n acÄ±larÄ± Holokost ile mukayese eden ve kendilerine her ÅŸeyi hak gÃ¶ren bir toplumun inÅŸa edildiÄŸini gÃ¶rÃ¼yoruz. Bu 'biriciklik' iddiasÄ±, ne yazÄ±k ki eleÅŸtiriye kapalÄ±, dokunulmaz bir alan yaratÄ±yor. Okurken sÄ±k sÄ±k duraksayÄ±p, 'tarih' ile 'tarihin kullanÄ±mÄ±' arasÄ±ndaki o ince Ã§izgiyi sorguladÄ±ÄŸÄ±mÄ± sÃ¶ylemeliyim.`
                },
                {
                    title: "Muhtelif 1 - Ä°slam'a YÃ¶nelik Ä°tiraz ve Cevaplar",
                    author: "Altay Cem MeriÃ§",
                    img: "https://img.kitapyurdu.com/v1/getImage/fn:12148197/wi:500/wh:3c2524b94",
                    review: "Ä°slam'a YÃ¶nelik Ä°tiraz ve Cevaplar"
                },
                {
                    title: "Freud Ä°mparatorluÄŸunun Ã‡Ã¶kÃ¼ÅŸÃ¼",
                    author: "Hans Eysenck",
                    img: "https://www.kutadgu.com.tr/u/kutadgu/img/c/f/r/freud-kpk3-1751670171.jpg",
                    review: "Eysenck'in 1985 senesinde kaleme aldÄ±ÄŸÄ± ve akademik Ã§evrelerde irtifa kaybetmeye baÅŸlayan Freudyen teoriye karÅŸÄ± Ã¶ldÃ¼rÃ¼cÃ¼ darbeyi vuran yapÄ±tlardan birisidir."
                }
            ],
            movies: [
                {
                    title: "Inception",
                    author: "Christopher Nolan",
                    img: "https://m.media-amazon.com/images/M/MV5BMjExMjkwNTQ0Nl5BMl5BanBnXkFtZTcwNTY0OTk1Mw@@._V1_.jpg",
                    review: "RÃ¼ya iÃ§inde rÃ¼ya..."
                },
                {
                    title: "Intouchables",
                    author: "Olivier Nakache",
                    img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRkiJPMd8Tlgpt58klpULjQUCVox_C2X5IS1w&s",
                    review: "DostluÄŸun engel tanÄ±mayan hikayesi."
                },
                {
                    title: "Ters YÃ¼z",
                    author: "Pixar",
                    img: "https://upload.wikimedia.org/wikipedia/tr/thumb/2/29/Ters_Y%C3%BCz_-_afi%C5%9F.jpg/250px-Ters_Y%C3%BCz_-_afi%C5%9F.jpg",
                    review: "DuygularÄ±n dÃ¼nyasÄ±na yolculuk."
                },
                {
                    title: "Ã–zdemir Bayraktar | Bu DÃ¼nyadan Bir AkÄ±ncÄ± GeÃ§ti",
                    author: "BAYKAR",
                    img: "https://cdn.baykartech.com/media/upload/userFormUpload/Q0QQpKsVzpiZriNcR7WUpGlJtWHfqtCo.JPG",
                    review: "Bir Ä°nancÄ±n, Bir MÃ¼cadelenin ve â€œBiz de Yapabilirizâ€ Diyen Bir Neslin HikÃ¢yesi"
                }
            ],
            blog: [
                {
                    title: "KÃ¼ltÃ¼rlenmiÅŸ Et ve Biyoetik",
                    date: "3 Åubat 2026",
                    content: "CRISPR-Cas9 teknolojisiyle Ã¼retilen kÃ¼ltÃ¼rlenmiÅŸ et, biyomedikal etik literatÃ¼rÃ¼nde..."
                },
                {
                    title: "BiyomÃ¼hendislik Vizyonu",
                    date: "28 Ocak 2026",
                    content: "GeleceÄŸin teknolojileri Ã¼zerine dÃ¼ÅŸÃ¼nceler."
                }
            ],
            gallery: [
                { src: "citedepera.jpg", title: "CitÃ© de PÃ©ra" },
                { src: "feneryolu.jpg", title: "Feneryolu Ä°stasyonu" },
                { src: "daylik.jpg", title: "DaylÄ±k KÃ¶yÃ¼" },
                { src: "kÃ¼cÃ¼kyali.jpg", title: "KÃ¼Ã§Ã¼kyalÄ±" },
                { src: "umraniye.jpg", title: "Osmangazi Korusu" },
                { src: "sultanahmet.jpg", title: "Sultanahmet Camii" },
                { src: "baglarbasi.jpg", title: "BaÄŸlarbaÅŸÄ±" }
            ]
        };

        const mainStage = document.getElementById('main-stage');
        const modules = document.querySelectorAll('.full-page-module');

        // PROFESYONEL NAVÄ°GASYON (HISTORY API)
        function openModule(moduleId) {
            mainStage.classList.add('hidden');
            modules.forEach(m => m.classList.remove('active'));
            document.getElementById('module-' + moduleId).classList.add('active');
            window.scrollTo(0,0);
            
            history.pushState({view: 'module', id: moduleId}, null, `#${moduleId}`);
        }

        // ModÃ¼l ID'si yerine TYPE (books, movies) ve INDEX alÄ±r.
        function openDetail(type, index) {
            const item = data[type][index];
            const modal = document.getElementById('detail-modal');
            document.getElementById('detail-content').innerHTML = `
                <div class="detail-flex">
                    <img src="${item.img}" class="detail-img">
                    <div class="detail-content">
                        <h3>${item.title}</h3>
                        <p style="color:var(--accent-color); font-weight:bold;">${item.author}</p>
                        <p>${item.review}</p>
                    </div>
                </div>`;
            modal.classList.add('active');
            history.pushState({view: 'modal', type: 'detail'}, null, '#detail');
        }

        let currentGalleryIndex = 0;
        function openGalleryViewer(index) {
            currentGalleryIndex = index;
            updateGalleryModal();
            document.getElementById('gallery-viewer').classList.add('active');
            history.pushState({view: 'modal', type: 'gallery'}, null, '#gallery');
        }

        function closeDetailUI() {
            document.getElementById('detail-modal').classList.remove('active');
        }
        function closeGalleryUI() {
            document.getElementById('gallery-viewer').classList.remove('active');
        }
        function showLandingUI() {
            modules.forEach(m => m.classList.remove('active'));
            mainStage.classList.remove('hidden');
            window.scrollTo(0,0);
        }
        function openModuleUI(moduleId) {
            mainStage.classList.add('hidden');
            modules.forEach(m => m.classList.remove('active'));
            document.getElementById('module-' + moduleId).classList.add('active');
        }

        function goBack() { history.back(); }
        function closeDetail() { history.back(); }
        function closeGallery() { history.back(); }

        window.onpopstate = function(event) {
            const detailOpen = document.getElementById('detail-modal').classList.contains('active');
            const galleryOpen = document.getElementById('gallery-viewer').classList.contains('active');

            if (detailOpen) { closeDetailUI(); return; }
            if (galleryOpen) { closeGalleryUI(); return; }

            if (event.state && event.state.view === 'module') {
                openModuleUI(event.state.id);
            } else {
                showLandingUI();
            }
        };

        function changeGalleryImage(direction) {
            currentGalleryIndex += direction;
            if (currentGalleryIndex < 0) currentGalleryIndex = data.gallery.length - 1;
            if (currentGalleryIndex >= data.gallery.length) currentGalleryIndex = 0;
            updateGalleryModal();
        }

        function updateGalleryModal() {
            const item = data.gallery[currentGalleryIndex];
            document.getElementById('gallery-img-tag').src = item.src;
            document.getElementById('gallery-caption-tag').innerText = item.title;
            
            // Ä°NDÄ°RME BUTONU GÃœNCELLEME
            const downloadBtn = document.getElementById('gallery-download-btn');
            downloadBtn.href = item.src; 
            downloadBtn.setAttribute('download', item.title + ".jpg"); 
        }

        window.addEventListener('DOMContentLoaded', () => {
            history.replaceState(null, null, ' ');

            const bookGrid = document.getElementById('books-grid');
            data.books.forEach((item, index) => bookGrid.innerHTML += createPosterHTML(item, 'books', index));

            const movieGrid = document.getElementById('movies-grid');
            data.movies.forEach((item, index) => movieGrid.innerHTML += createPosterHTML(item, 'movies', index));

            const blogGrid = document.getElementById('blog-grid');
            data.blog.forEach((item) => {
                blogGrid.innerHTML += `
                    <div class="academy-card">
                        <div style="font-weight:bold; color:var(--accent-color); font-size:0.7rem;">${item.date}</div>
                        <h3>${item.title}</h3>
                        <p>${item.content}</p>
                    </div>`;
            });

            const galleryGrid = document.getElementById('gallery-grid');
            data.gallery.forEach((item, index) => {
                galleryGrid.innerHTML += `
                    <div class="poster" onclick="openGalleryViewer(${index})">
                        <img src="${item.src}">
                        <div class="poster-caption">${item.title}</div>
                    </div>`;
            });
        });

        function createPosterHTML(item, type, index) {
            return `<div class="poster" onclick="openDetail('${type}', ${index})"><img src="${item.img}"></div>`;
        }

        window.onclick = function(event) {
            const galleryModal = document.getElementById('gallery-viewer');
            const detailModal = document.getElementById('detail-modal');
            if (event.target === galleryModal) history.back();
            if (event.target === detailModal) history.back();
        }

        document.addEventListener('keydown', function(event) {
            const galleryModal = document.getElementById('gallery-viewer');
            const detailModal = document.getElementById('detail-modal');
            const anyModuleActive = document.querySelector('.full-page-module.active');

            if (event.key === "Escape") {
                history.back();
            }
            if (galleryModal.classList.contains('active')) {
                if (event.key === "ArrowLeft") changeGalleryImage(-1);
                if (event.key === "ArrowRight") changeGalleryImage(1);
            }
        });

        window.addEventListener('scroll', () => {
            const bg = document.getElementById('bg-blur');
            if (window.scrollY > 50) bg.classList.add('blurred');
            else bg.classList.remove('blurred');
        });

        function toggleTheme() {
            document.body.classList.toggle('purple-mode');
        }

        var audio = document.getElementById("myAudio");
        var icon = document.getElementById("playIcon");
        var playerBar = document.querySelector(".player-bar");

        function toggleAudio() {
            if (audio.paused) {
                audio.play();
                icon.className = "fas fa-pause";
                playerBar.classList.add("playing");
            } else {
                audio.pause();
                icon.className = "fas fa-play";
                playerBar.classList.remove("playing");
            }
        }
        function toggleMute() {
            audio.muted = !audio.muted;
            document.getElementById("volIcon").className = audio.muted ? "fas fa-volume-mute" : "fas fa-volume-up";
        }
    </script>
</body>
</html>